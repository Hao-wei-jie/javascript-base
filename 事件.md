# 事件

## 题目

- 编写一个通用的事件监听函数

- 描述事件冒泡流程

- 对于一个无限下拉加载图片的页面,如何给每个图片绑定事件

## 知识点

## 通用事件绑定

``` javascript
var btn = document.getElementById('btn1')
btn.addEventListener('click', function(event) {
    console.log('clicked')
})

function bindEvent(elem, type, fn) {
    elem.addEventListener(type, fn)
}
var a = document.getElementById('link1')
bindEvent(a, 'click', function() {
    e.preventDefault() // 阻止默认行为
    alert('clicked')
})
```

关于IE低版本的兼容性:

- IE低版本使用attachEvent绑定事件,和W3C标准不一样

## 事件冒泡

``` html
<body>
    <div id="div1">
        <p id="p1">激活</p>
        <p id="p2">取消</p>
        <p id="p3">取消</p>
        <p id="p4">取消</p>
    </div>
    <div id="div2">
        <p id="p5">取消</p>
        <p id="p5">取消</p>
    </div>
</body>
```

``` javascript
var p1 = document.getElementById('p1')
var body = document.body
bindEvent(p1, 'click', function(e) {
    e.stopPropagation()
    alert('激活')
})
bindEvent(body, 'click', function(e) {
    alert('取消')
})
```

## 代理